name: CI/CD for Blog Project

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ§¾ Checkout repository
        uses: actions/checkout@v3

      - name: ğŸ§© Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: 18

      - name: ğŸ“¦ Install dependencies
        run: npm install

      - name: âœ… Run tests
        run: |
          echo "Ù„Ø§ ÙŠÙˆØ¬Ø¯ tests Ø­Ø§Ù„ÙŠÙ‹Ø§ - Ø§Ø¶Ù Ù…Ù„ÙØ§Øª test Ù„Ø§Ø­Ù‚Ù‹Ø§ Ø£Ùˆ Ø¹Ø¯Ù‘Ù„ Ù‡Ù†Ø§"
          # npm test

      - name: ğŸ§¹ Run Lint (Ù„Ùˆ Ø¹Ù†Ø¯Ùƒ lint script)
        run: |
          echo "Ù„Ø§ ÙŠÙˆØ¬Ø¯ lint script - Ø§Ø¶Ù 'lint' ÙÙŠ package.json Ù„Ùˆ Ø­Ø§Ø¨Ø¨"
          # npm run lint

      - name: ğŸš€ Deploy (Ø§Ø®ØªÙŠØ§Ø±ÙŠ â€“ ØºÙŠØ±Ù‡ Ø­Ø³Ø¨ Ø­Ø§Ù„ØªÙƒ)
        run: |
          echo "Ù‡Ù†Ø§ ØªÙ‚Ø¯Ø± ØªØ¶ÙŠÙ Ø£ÙˆØ§Ù…Ø± Ù†Ø´Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚"
          echo "Ù…Ø«Ø§Ù„: sshØŒ rsyncØŒ Ø£Ùˆ Ø£ÙˆØ§Ù…Ø± docker"
